# Development README\n\nEste documento reúne os passos e checklist para rodar o projeto localmente, além de comandos de troubleshooting.\n\n## Pré-requisitos\n\n- Node.js (versão 18+ recomendada)\n- npm\n- Git instalado e disponível no PATH\n- Windows: PowerShell (ou terminal que suporte os comandos)\n\n## Setup inicial\n\n1. Clone o repositório localmente (ou copie os arquivos).\n2. Copie o template de ambiente e preencha as variáveis sensíveis:\n\n```powershell\nSet-Location \"C:\\Users\\USER\\Desktop\\publish\\matbel-new\"\nCopy-Item .env.example .env.local -Force\nnotepad .env.local\n```\n\nPreencha:\n- NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY\n- CLERK_SECRET_KEY\n- TURSO_CONNECTION_URL (ex.: libsql://...)\n- TURSO_AUTH_TOKEN\n\n> Nunca comite `.env.local` no repositório.\n\n3. Instale dependências:\n```powershell\nnpm ci\n```\n\n4. Instale browsers para Playwright (se for rodar testes):\n```powershell\nnpm i -D @playwright/test\nnpx playwright install --with-deps\n```\n\n## Comandos úteis\n\n- Checar pré-requisitos (preflight):\n```powershell\nnpm run preflight\n```\n\n- Iniciar ambiente de desenvolvimento (verifica preflight automaticamente):\n```powershell\nnpm run dev\n```\n\n- Limpar lock stale e iniciar dev:\n```powershell\nnpm run dev:clean\n```\n\n- Rodar testes E2E (Playwright):\n```powershell\n# em outro terminal, com o servidor rodando\nnpm run test:e2e\n```\n\n## Troubleshooting rápido\n\n- Git não encontrado: verifique `git --version`. Se não estiver, instale Git for Windows e marque a opção para adicioná-lo ao PATH.\n- Porta 3000 ocupada: identificar processo com `netstat -ano | findstr :3000` e finalizar o PID com `taskkill /PID <PID> /F` (abra PowerShell como Administrador se receber 'Acesso negado').\n- Lock stale do Next: `Remove-Item .next\\dev\\lock -Force` e reiniciar `npm run dev`.\n- Erros de variáveis de ambiente: confira `.env.local` e confirme que `TURSO_CONNECTION_URL` começa com `libsql://`.\n- Turbopack panic (Acesso negado): tente rodar o terminal como Administrador ou desative temporariamente o antivírus; cole o arquivo `next-panic-*.log` para análise.\n\n## Rotação de chaves (seguro)\n\n1. Gere novas chaves no painel (Turso/Clerk). 2. Adicione ao `.env.local` localmente e teste em `npm run dev`. 3. Atualize as variáveis no ambiente de staging/preview e valide. 4. Quando tudo estiver estável, atualize produção e só então revogue a chave antiga.\n\n## Contato\n\nSe algo falhar, cole as saídas dos comandos aqui no chat e eu ajudo a analisar.\n*** End Patch**adjustment**  AVL**Sorry**  
